<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonDatabind_67" link="https://github.com/FasterXML/jackson-databind/issues/1445">
<buginformation>
<summary>map  key deserializer modifiers  ignored</summary>
<description>have module that extends simple model allow accept enum names lower case fairly generic manner inside that add the modify key deserializer the incoming class using immutables mapped guava immutable map walking through the code com fasterxml jackson datatype guava deser immutable map deserializer create contextual calls deserialization context find key deserializer calls deserializer cache find key deserializer calls basic deserializer factory create key deserializer which has the code the only non standard thing this deser null type enum type return create enum key deserializer ctxt type deser std key deserializers find string based key deserializer config type since are enum type returns the value the create enum key deserializer which the standard enum deserializer below that block the check for the has deserializer modifiers but since have returned already never called can override the behaviour module fragment set deserializer modifier new bean deserializer modifier override suppress warnings unchecked public json deserializer enum modify enum deserializer deserialization config config final java type type bean description bean desc final json deserializer deserializer return new json deserializer enum override public enum deserialize json parser deserialization context ctxt throws exception class extends enum raw class class enum type get raw class return enum value raw class get value string upper case override public key deserializer modify key deserializer deserialization config config java type type key deserializer deserializer type enum type return super modify key deserializer config type deserializer return new key deserializer override suppress warnings unchecked public object deserialize key string key deserialization context ctxt throws exception json processing exception class extends enum raw class class enum type get raw class return enum value raw class key upper case appreciate the code around here fairly complex related issues possibly 749 1313 the text was updated successfully but these errors were encountered copy link member cowtowncoder commented nov 2016 thank you for reporting this couple questions first which jackson version this verified with does this also occur with standard jdk collections just with guava ones copy link author alfonsobonso commented nov 2016 version had also been running with which had the same issue and upgraded part digging confirm this also happening with standard jdk collections copy link member cowtowncoder commented nov 2016 thank you for verifying this being able test with jdk collections makes bit easier repro with just databind cowtowncoder closed this 906a nov 2016 copy link author alfonsobonso commented nov 2016 fast thank you very much cowtowncoder mentioned this issue nov 2016 key deserializer instance defined private static not found even though added registered simple module 1447 closed sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.databind.deser.BasicDeserializerFactory</file>
</fixedfiles>
</bug>
</bugrepository>
