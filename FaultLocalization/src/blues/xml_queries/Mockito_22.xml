<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Mockito_22" link="https://github.com/mockito/mockito/issues/484">
<buginformation>
<summary>can  not  return  deep  stubs  from  generic  method  that  returns  generic  type</summary>
<description>edited hey try mock generic method which generic returntype where the returntype derived from the generic type the method using deep stubs get class cast exception when calling when interface supplier class type test public void test throws exception mock class returns deep stubs when boolean class get class cast exception when you don use deep stubs and raw supplier mock pass around works mock class supplier mock supplier class when boolean class then return when boolean class get the class cast exception java lang class cast exception org mockito internal creation cglib class imposterizer class with superclass work around cglib bug enhancer mockito with cglib cdb 13154 cannot cast java lang string mockito generics test mockito generics java sun reflect native method accessor impl invoke native method sun reflect native method accessor impl invoke native method accessor impl java sun reflect delegating method accessor impl invoke delegating method accessor impl java java lang reflect method invoke method java 483 org junit runners model framework method run reflective call framework method java org junit internal runners model reflective callable run reflective callable java org junit runners model framework method invoke explosively framework method java org junit internal runners statements invoke method evaluate invoke method java org junit runners parent runner run leaf parent runner java 271 org junit runners block unit class runner run child block unit class runner java org junit runners block unit class runner run child block unit class runner java org junit runners parent runner run parent runner java 238 org junit runners parent runner schedule parent runner java org junit runners parent runner run children parent runner java 236 org junit runners parent runner access 000 parent runner java org junit runners parent runner evaluate parent runner java 229 org junit runners parent runner run parent runner java 309 org eclipse jdt internal junit runner unit test reference run unit test reference java org eclipse jdt internal junit runner test execution run test execution java org eclipse jdt internal junit runner remote test runner run tests remote test runner java 459 org eclipse jdt internal junit runner remote test runner run tests remote test runner java 675 org eclipse jdt internal junit runner remote test runner run remote test runner java 382 org eclipse jdt internal junit runner remote test runner main remote test runner java 192 tested using mockito jdk and powermock the text was updated successfully but these errors were encountered copy link contributor bric commented jul 2016 unfortunately this not possible java this time because java implements generic with erasure the only exceptions where generic metadata are kept the compiler are class interface that extends implements generic type and sets this generic type then method generic type may inferred interface extends iterable when bounds are declared either the type method interface extends number get extends observer observe bric closed this jul 2016 copy link contributor bric commented jul 2016 edited this case declare all stubs should something like mock class returns deep stubs when boolean class then return mock supplier class when boolean class get then return true sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>org.mockito.internal.matchers.Equality</file>
</fixedfiles>
</bug>
</bugrepository>
