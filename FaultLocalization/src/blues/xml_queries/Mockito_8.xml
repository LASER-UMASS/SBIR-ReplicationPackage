<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Mockito_8" link="https://github.com/mockito/mockito/issues/114">
<buginformation>
<summary>regression stack overflow error  with  interface  where  generic  type  has  itself  upper  bound</summary>
<description>add this generic metadata support test interface generics self reference extends generics self reference self test public void type variable self type generic metadata support generic metadata infer from generics self reference class resolve generic return type first named method self generics self reference class assert that generic metadata raw type equal generics self reference class fails master and with this java lang stack overflow error sun reflect generics reflective objects type variable impl hash code type variable impl java 201 java util hash map hash hash map java 338 java util hash map get hash map java 556 org mockito internal util reflection generic metadata support get actual type argument for generic metadata support java 193 org mockito internal util reflection generic metadata support get actual type argument for generic metadata support java 196 org mockito internal util reflection generic metadata support get actual type argument for generic metadata support java 196 worked may caused the changes bric also note that while the above interface looks strange commonly used for builder hierarchies where base class methods want return this with more specific type the text was updated successfully but these errors were encountered copy link member mockitoguy commented oct 2014 thanks lot for reporting guys you want take stab fixing mockitoguy added the bug label oct 2014 mockitoguy changed the title regression stack overflow error for interface where generic type variable has itself upper bound regression when upgrading from stack overflow error for interface where generic type has itself upper bound oct 2014 pbielicki pushed commit pbielicki mockito that referenced this issue dec 2014 fix proposal for mockito 114 99c 60a mockitoguy changed the title regression when upgrading from stack overflow error for interface where generic type has itself upper bound regression stack overflow error with interface where generic type has itself upper bound dec 2014 mockitoguy added commit that referenced this issue dec 2014 fixes issue 114 loading status checks 03bf mockitoguy closed this dec 2014 copy link member mockitoguy commented dec 2014 published with thanks lot for contribution copy link contributor bric commented dec 2014 hey pbielicki since you committed this fix thx the way what your opinion about the code that handle the generic support know generics complicated matter find code quite intricate you have external point view you saw some way make better copy link pbielicki commented dec 2014 bric quite pragmatic good works generics reflection complex matter casting inevitable different types different variants type erasure etc even difficult imagine all possible test scenarios class considered differently that class runtime while for the same the code quite clean and don have any ideas how improve least for now test test test and test again not helpful know copy link contributor bric commented dec 2014 hey you did dive this code fix while was busy current job that was helpful yeah with generics seems almost all cases are edge cases but you find good enough for the time being that already good feedback sign for free join this conversation git hub already have account sign comment assignees one assigned labels bug projects none yet milestone milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>org.mockito.internal.util.reflection.GenericMetadataSupport</file>
</fixedfiles>
</bug>
</bugrepository>
