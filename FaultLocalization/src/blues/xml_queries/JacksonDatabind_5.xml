<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonDatabind_5" link="https://github.com/FasterXML/jackson-databind/issues/515">
<buginformation>
<summary>mixin  annotations  lost  when  using  mixin  class  hierarchy  with  non  mixin  interfaces</summary>
<description>summary mixin annotations are lost when jackson scans parent mixin class with json annotations followed interface implemented the parent mixin class that does not have the same json annotations jackson version detail have the following class structure public interface contact string get city public class contact impl implements contact public string get city public class contact mixin implements contact json property public string get city return null public interface person extends contact public class person impl extends contact impl implements person public class person mixin extends contact mixin implements person and configure module there are other getters properties the impl class that not need serialized and using the mixin match the interface and explicitly annotate all the inherited methods module disable mapper feature allow final fields mutators disable mapper feature auto detect fields disable mapper feature auto detect getters disable mapper feature auto detect getters disable mapper feature infer property mutators module set mix annotation person class person mixin class when person impl instance serialized city not included debugged the code and this what happens annotated class resolve member methods the supertypes person impl are person class contact class contact impl class that order starts with person for which finds person mixin and proceeds annotated class add method mix ins here the parents list has person mixin contact mixin contact when processes contact mixin adds get city with the json property annotation then processes contact doesn find get city methods map and creates new annotated method for get city with the one from the interface which has annotation which replaces the one from contact mixin the workaround for this issue explicitly add any parent mixins the module module set mix annotation contact class contact mixin class the text was updated successfully but these errors were encountered cowtowncoder closed this 1fe aug 2014 cowtowncoder added this the milestone aug 2014 copy link author stevebread commented aug 2014 found previously working scenario related mix annotation hierarchy has broken and may caused this fix 515 fixes the case where the parents list has mix class before interface the interface appears before the mix then mix annotations are longer applied this used work using the same example above assume that the parents list for person has person mix contact contact mix contact get city processed mix ins add construct method and contact mix get city processed add mix unders then annotated class resolve member methods processes contact the parents list for contact has contact mix and contact mix get city once again processed add mix unders after processing the mix the call add mix overs add member methods would apply the annotations contact get city this method still called but the mix annotations from contact mix are not applied copy link author stevebread commented aug 2014 tatu believe this fix has broken some existing functionality have added comments the issue but not have rights reopen the issue thanks steve wednesday august 2014 tatu saloranta notifications github com wrote closed 515 via 1fe reply this email directly view git hub copy link member cowtowncoder commented aug 2014 stevebread you could file new issue that great general opening problematic anyway since will more difficult track which release addressed which issue least fixes have been released the case here you can just copy the description the new problem from above and refer this issue from new one stevebread mentioned this issue aug 2014 mixin annotations lost when using mixin class hierarchy with non mixin interfaces variant 515 529 closed copy link author stevebread commented aug 2014 done 529 sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.databind.introspect.AnnotatedClass</file>
</fixedfiles>
</bug>
</bugrepository>
