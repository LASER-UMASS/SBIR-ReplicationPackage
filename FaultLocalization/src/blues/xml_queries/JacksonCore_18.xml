<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonCore_18" link="https://github.com/FasterXML/jackson-core/issues/315">
<buginformation>
<summary>when  writing big decimal</summary>
<description>note moved from faster xml jackson databind 1316 reported gmethvin when enabled the write bigdecimal plain setting jackson jackson will attempt write out the whole number matter how large the exponent for example the following code object mapper mapper new object mapper enable json generator feature write bigdecimal plain mapper write value string new java math big decimal 223372 1010671858 triggers the exception java lang out memory error java heap space java lang abstract string builder init abstract string builder java java lang string builder init string builder java 101 java math big decimal plain string big decimal java 2964 com fasterxml jackson core json writer based json generator write number writer based json generator java 690 com fasterxml jackson databind ser std number serializer serialize number serializer java com fasterxml jackson databind ser std number serializer serialize number serializer java com fasterxml jackson databind ser default serializer provider serialize value default serializer provider java 130 com fasterxml jackson databind object mapper config and write value object mapper java 3612 com fasterxml jackson databind object mapper write value string object mapper java 2980 elided know technically jackson doing what you telling you don feel this issue feel free close but would nice write bigdecimal plain set reasonable length the number not leave users open denial service vulnerabilities actually think this might technically issue jackson core let know should resubmit the text was updated successfully but these errors were encountered cowtowncoder mentioned this issue aug 2016 out memory error when writing big decimal faster xml jackson databind 1316 closed copy link member author cowtowncoder commented aug 2016 note for earlier discussion have look faster xml jackson databind 1316 basically there are differing views how big too big and what about that the first step that will simply throw exception attempts made with json generator feature write bigdecimal plain and scale bigger than 9999 smaller than 9999 and from there cowtowncoder added commit that referenced this issue aug 2016 fix 315 9664297 copy link gmethvin commented aug 2016 edited think shorter limit makes sense maybe 100 digits max but think the only way make everyone happy have minimum and maximum scale settings something like that let say set the limit 9999 you suggest that means each number can occupy maximum slightly less than space had array with lot these could still easily see causing similar error suspect most users the write bigdecimal plain feature are just being anal retentive about how numbers with smaller exponents look 0012 might look better them than and better than but they generally don want see followed zeroes instead the much more compact actually can think any other valid reason use that setting other than making numbers more human readable your app requires json numbers formatted particular way actually function then not using json properly copy link member author cowtowncoder commented aug 2016 think any limit below millions should suffice solve the reported problem running out memory accidentally agree with your guess usage don use this feature myself nor think generally makes sense but discussion specific limit use sounds like bike shedding this point don see real problem remaining solved but rather hypothetical issue content addressing such problems and when they actualize which point new issue sounds fine let start with 9999 the limit and see where that takes copy link gmethvin commented aug 2016 edited agree with your guess usage don use this feature myself nor think generally makes sense then what was the original purpose for adding that feature think bit much represent number but you right probably won cause issues all but the most extreme cases you know your users much more than happy trust your judgment there can think good argument for any specific number copy link member author cowtowncoder commented aug 2016 gmethvin was added someone requesting and providing don recall exact reasons but usually either compatibility visual aesthetics you are interested background looks like feature was added for issue this point features are due someone else needing the feature just because don need use something does not mean others don jackson was limited needs version would have done close everything cowtowncoder added this the milestone aug 2016 cowtowncoder closed this aug 2016 copy link gmethvin commented aug 2016 cowtowncoder think you missed point cannot find much discussion this and the only issue found was faster xml jackson databind 251 was hoping find some support the idea that someone would want very long number written out but pretty much everything can find suggests that option being used fix annoyances with shorter numbers not saying you should remove the option necessarily but maybe need something that more directly addresses their problem without causing these potentially unwanted side effects copy link member author cowtowncoder commented aug 2016 this point think are all set from point and see reason make further changes imdario mentioned this issue oct 2017 jackson dependencies updated last version aws aws sdk java 1353 closed whitesource bolt for github bot mentioned this issue jan 2019 2018 0125 medium severity vulnerability detected white source nadavweissman book store java open this was referenced feb 2019 2018 0125 medium severity vulnerability detected white source rajpratik notejam open 2018 0125 medium severity vulnerability detected white source rajpratik notejam 222 open 2018 0125 medium severity vulnerability detected white source rajpratik notejam 251 open 2018 0125 medium severity vulnerability detected white source rajpratik notejam 422 open 2018 0125 medium severity vulnerability detected white source rajpratik notejam 560 open 2018 0125 medium severity vulnerability detected white source rajpratik notejam 587 open 2018 0125 medium severity vulnerability detected white source rajpratik notejam 709 open 2018 0125 medium detected multiple libraries autoclosed gsylvie madness closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 140 closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 141 closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 237 closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 244 closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 329 closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 344 closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 483 closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 497 closed 2018 0125 medium severity vulnerability detected white source autoclosed gsylvie madness 569 closed hidden items load more whitesource for github com bot mentioned this issue oct 2020 2018 0125 medium detected jackson core jar 4421 kafka service interface open whitesource bolt for github bot mentioned this issue oct 2020 2018 0125 medium detected jackson core jar prafullkotecha azure sdk for java open this was referenced oct 2020 2018 0125 medium detected jackson core jar kenferrara kafka service interface open 2018 0125 medium detected jackson core jar mwilliams 7197 kafka service interface open this was referenced dec 2020 2018 0125 medium detected jackson core jar billmcchesney pacbot open 2018 0125 medium detected jackson core jar smart bear idea collaborator plugin open 2018 0125 medium detected jackson core jar bitbar test samples 219 closed whitesource bolt for github bot mentioned this issue dec 2020 2018 0125 medium detected jackson core jar seagate cortx 3server 473 closed this was referenced dec 2020 2018 0125 medium detected jackson core jar smart bear ready mqtt plugin open 2018 0125 medium detected jackson core jar smart bear ready api plugins open 2018 0125 medium detected jackson core jar smart bear ready aws plugin open 2018 0125 medium detected jackson core jar smart bear ready msazure plugin open 2018 0125 medium detected jackson core jar smart bear readyapi swagger assertion plugin open this was referenced jan 2021 2018 0125 medium detected jackson core jar mwilliams 7197 video quickstart android open 2018 0125 medium detected jackson core jar shiriivtsan jackson databind open whitesource bolt for github bot mentioned this issue jan 2021 2018 0125 medium detected jackson core jar guardian amigo 413 open whitesource for github com bot mentioned this issue jan 2021 2018 0125 medium detected jackson core jar autoclosed ioana nicolae second closed whitesource for github com bot mentioned this issue feb 2021 2018 0125 medium detected jackson core jar autoclosed ioana nicolae one closed whitesource for github com bot mentioned this issue mar 2021 2018 0125 medium detected jackson core jar dima 2021 web goat legacy open this was referenced mar 2021 2018 0125 medium detected jackson core jar jtimberlake pacbot open 2018 0125 medium detected jackson core jar kaidisn aws kinesis scala open whitesource bolt for github bot mentioned this issue mar 2021 2018 0125 medium detected jackson core jar chiencc pom open whitesource for github com bot mentioned this issue mar 2021 2018 0125 medium detected jackson core jar snowdensb leo open this was referenced apr 2021 2018 0125 medium detected jackson core jar autoclosed dxworks kotlin rest client closed 2018 0125 medium detected jackson core jar autoclosed vivek buzruk hygieia closed whitesource for github com bot mentioned this issue apr 2021 2018 0125 medium detected jackson core jar snowflakedb snowflake hive metastore connector open whitesource for github com bot mentioned this issue may 2021 2018 0125 medium detected jackson core jar katerina org trex stateless gui open whitesource for github com bot mentioned this issue may 2021 2018 0125 medium detected jackson core jar galaxy software service maven pom demo open whitesource bolt for github bot mentioned this issue jun 2021 2018 0125 medium detected jackson core jar 9133github jetty project open whitesource for github com bot mentioned this issue jun 2021 2018 0125 medium detected jackson core jar brogers 588 maven prioritize open sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.core.base.GeneratorBase</file>
<file>com.fasterxml.jackson.core.json.UTF8JsonGenerator</file>
<file>com.fasterxml.jackson.core.json.WriterBasedJsonGenerator</file>
</fixedfiles>
</bug>
</bugrepository>
