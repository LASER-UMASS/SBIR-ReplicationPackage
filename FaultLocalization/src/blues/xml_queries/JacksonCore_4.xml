<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonCore_4" link="https://github.com/FasterXML/jackson-core/issues/152">
<buginformation>
<summary>what  the  maximum  key  length  allowed</summary>
<description>noticed that even jackson json key longer than 262144 bytes array index out bounds exception thrown from text buffer below the stack trace java lang array index out bounds exception java lang system arraycopy native method com fasterxml jackson core util text buffer expand current segment text buffer java 604 com fasterxml jackson core json utf stream json parser add name utf stream json parser java 2034 com fasterxml jackson core json utf stream json parser find name utf stream json parser java 1928 com fasterxml jackson core json utf stream json parser parse long field name utf stream json parser java 1534 com fasterxml jackson core json utf stream json parser parse medium field name utf stream json parser java 1502 com fasterxml jackson core json utf stream json parser parse field name utf stream json parser java 1437 com fasterxml jackson core json utf stream json parser next token utf stream json parser java 668 below are our code looking text buffer expand current segment text buffer java 604 once the length current segment increased max segment len 262145 bytes the new len will stay max segment len which smaller than len therefore system arraycopy will fail understand rare have key larger than 262144 bytes but would nice jackson explicitly throw exception stating that key too long document that the maximum key length 262144 bytes update text buffer support super long key thanks the text was updated successfully but these errors were encountered copy link member cowtowncoder commented sep 2014 such limit intended this sounds like bug will fix reason not support whatever fits memory note that maximum segment not directly relevant maximum key length the point segments not require single contiguous array intermediate copies copy link member cowtowncoder commented sep 2014 actually looking code expansion used for case property names where names are kept single buffer not for text values but here done regardless something fix cowtowncoder added commit that referenced this issue sep 2014 fix 152 533f cowtowncoder added this the milestone sep 2014 cowtowncoder added commit that referenced this issue sep 2014 backport fix 152 branch loading status checks 687 cowtowncoder closed this 3baa sep 2014 sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.core.util.TextBuffer</file>
</fixedfiles>
</bug>
</bugrepository>
