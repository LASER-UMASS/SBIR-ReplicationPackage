<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonDatabind_97" link="https://github.com/FasterXML/jackson-databind/issues/1991">
<buginformation>
<summary>context  attributes  are  not  passed  available  custom  serializer  object  pojo</summary>
<description>below test case where create custom serializer and use serialize object hash map and object node both cases pass attribute the serializer like this mapper writer with attribute attr hello serializing hash map works expected but during object node serialization the attribute null seems that both cases the custom serializer should get access the passed attribute and both lines the output should contain hello produced output from running test case test data str the value hello data str the value null test case import com fasterxml jackson core json generator import com fasterxml jackson databind object mapper import com fasterxml jackson databind serializer provider import com fasterxml jackson databind annotation json serialize import com fasterxml jackson databind node object node import com fasterxml jackson databind ser std std serializer import java exception import java util hash map import java util map public class test case public final static object mapper mapper new object mapper json serialize using test case custom ser class public static class data public string str public static class custom ser extends std serializer data public custom ser super data class override public void serialize data value json generator gen serializer provider provider throws exception string attr str string provider get attribute attr gen write start object gen write object field str the value attr str null null attr str gen write end object public static void test throws exception data data new data data str hello map string object map test new hash map map test put data data object node tree test mapper create object node tree test put pojo data data string map out mapper writer with attribute attr hello write value string map test system out println map out string tree out mapper writer with attribute attr hello write value string tree test system out println tree out the text was updated successfully but these errors were encountered copy link author dletin commented apr 2018 version copy link member cowtowncoder commented apr 2018 thank you for reporting this agree that context should retained and attributes available there may technical problems achieving that with since there unfortunately way pass them through methods json generator this something that solved master but not something that can retrofitted easily but hope see there might something simple really depends how delegation works for pojo nodes and serialization cowtowncoder added the label apr 2018 cowtowncoder added active and removed active labels may 2018 cowtowncoder added this the milestone may 2018 cowtowncoder closed this 06d may 2018 sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.databind.node.POJONode</file>
</fixedfiles>
</bug>
</bugrepository>
