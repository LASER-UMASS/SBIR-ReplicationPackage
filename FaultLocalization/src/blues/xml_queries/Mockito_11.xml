<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Mockito_11" link="https://github.com/mockito/mockito/issues/87">
<buginformation>
<summary>fixed delegating method  equals  that  easier  extend  mockito  custom  verification  modes</summary>
<description>currently you create delegating method and compare itself using equals will show not equal because the equals method expects java lang reflect method without explicitly stating such this has knock effect the evaluation invocation impl equals which runtime may using delegating method its equals have changed equals and hash code delegating method more appropriate implementation which can handle both the case where the input object delegating method and where java lang reflect method ran against this issue when creating custom verification mode which used invocation impl equals check that the appropriate invocation was made comparison failed even though was comparing two references the same invocation impl instance adding more appropriate equals method delegating method 1dfc this comment has been minimized sign view mockitoguy commented src org mockito internal creation delegating method java 1dfc sep 2014 hey method cannot null this object let simplify the equals and hashcode this comment has been minimized sign view owner author hughwphamill replied sep 2014 didn notice the assert the constructor this definitely simplifies things this comment has been minimized sign view mockitoguy commented src org mockito internal creation delegating method java 1dfc sep 2014 can simplify the conditional that says something like instanceof delegating method else return method equals this comment has been minimized sign view mockitoguy commented 1dfc sep 2014 this change makes perfect sense thanks for contribution can you fix the minor items that can merge thanks can you tell little bit more what you use custom verification mode such power user cases are always interesting also need publicize this part the api some point and your feedback would valuable copy link contributor author hughwphamill commented sep 2014 szczepan thanks for the reply simplify the methods now open new pull request somehow edit this one sorry new git hub and git haven used custom verification mode anger yet actually writing tutorial mockito and wanted show one example the one wrote would verify that invocation was the first invocation mock and had lot hair pulling when the equals chunk and all invocations didn evaluate true even though was the same object regards hugh simplifying equals and hashcode delegating method copy link member mockitoguy commented sep 2014 verification mode not public api devs are welcome use and tell about the use cases does have strict backwards compatibility constraints other words can change without notice however plan publicize this api only there were more days week update this create new one whatever simpler for you thanks again copy link contributor author hughwphamill commented sep 2014 not sure why this failed build the tests are passing locally thanks for the info about verification mode stick health warning the tutorial for that section this comment has been minimized sign view mockitoguy commented src org mockito internal creation delegating method java sep 2014 can you get rid this null check too thanks copy link member mockitoguy commented sep 2014 the build failed due flaky test don worry about removing redundant null check from delegating method equals 0dfefac copy link contributor author hughwphamill commented sep 2014 updated again was bit trigger happy with the commit hopefully that mockitoguy added enhancement bug and removed bug enhancement labels sep 2014 mockitoguy changed the title adding more appropriate equals method delegating method fixed delegating method equals that easier extend mockito custom verification modes sep 2014 copy link member mockitoguy commented sep 2014 right merging let see continuous deployment actually works mockitoguy added commit that referenced this pull request sep 2014 merge pull request from hughwphamill master 1802cf fixed delegating method equals that easier extend mockito custom verification modes hide details view details mockitoguy merged commit 1802cf into mockito master sep 2014 check passed check passed continuous integration travis the travis build passed details copy link member mockitoguy commented sep 2014 fyi your change already released https github com mockito mockito blob master doc release notes official copy link contributor author hughwphamill commented sep 2014 that pretty cool thanks for letting know sep 2014 szczepan faber notifications github com wrote fyi your change already released https github com mockito mockito blob master doc release notes official reply this email directly view git hub comment szpak mentioned this pull request sep 2014 generate change list separated types using labels closed sign for free join this conversation git hub already have account sign comment reviewers reviews assignees one assigned labels bug projects none yet milestone milestone linked issues successfully merging this pull request may close these issues none yet participants</description>
</buginformation>
<fixedfiles>
<file>org.mockito.internal.creation.DelegatingMethod</file>
</fixedfiles>
</bug>
</bugrepository>
