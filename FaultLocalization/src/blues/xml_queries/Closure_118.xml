<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Closure_118" link="https://storage.googleapis.com/google-code-archive/v2/code.google.com/closure-compiler/issues/issue-1024.json">
<buginformation>
<summary>prototype  method  incorrectly  removed</summary>
<description>closure compiler  compilation  level  advanced  optimizations  output  file  name  default  formatting  pretty  print closure compiler  const  var  foo  foo  bar  bar  function  console  log  bar  constructor  function  foobar  foobar  prototype  foo  bar  foo  foobar  new  foobar  console  log  foo  foobar  bar  while  the  above  snippet  the  prototype  method  completely  removed  the  actual  case  came  across  was  doing  prototype  devirtualization  the  quoted  prototype  property  something  akin  foo  foobar  foobar  prototype  bar  true  which  also bad thanks  for  the  report  comment  devirtualization  only  happens  with  functions  disambiguate  properties  will  not  remove  from  the  prototype  would  good  know  which  case  you  saw  neither  should  modify  quoted  properties  let  try  without  ambituate  disambituate  turned  and  see  still  occurs  the  original  source  helps  the  original  problem  prototype  assignment  https  github  com  jquery  sizzle  blob  master  sizzle  1393  properties  affected  https  github  com  jquery  sizzle  blob  master  sizzle  1183  when  tried  create  repo  cases  could  only  get  complete  removal  occur  does  appear  ambiguate  disambiguate  problem  would  help  uploaded  the  test  files  yes  would  compilation  arguments  compilation  level  advanced  optimizations  warning  level  verbose  use  types  for  optimization  externs issue 1024externs issue 1024code  formatting  pretty  print  debug  uncompiled  line  numbers  1214  1427  compiled  line  number  682  two  warnings  are  expected  and  unrelated  using closure compiler  compilation  level  advanced  optimizations  output  file  name  default  code  url  https  closure  compiler  googlecode  com  issues  attachment  aid  10240006000  name issue 1024code  token  2vz  1377294668082  externs  url  https  closure  compiler  googlecode  com  issues  attachment  aid  10240006001  name issue 1024externs  token pbc 89s  cfrjv  1377294668082  use  types  for  optimization  true  warning  level  verbose  formatting  pretty  print  debug  true closure compiler  was  able  see  the  quoted  not  property  renamed set filters  prototype  not  which  disambiguate  properties  work  but  not  sure  confused  the  type  system  confusing  itself  note  doesn  change  from  quoted  property  remains set filters  prototype  not  the  output  that  the  property  behavior  was  having  couldn  figure  out  what  type  annotations  any  were  causing  the  issue  actually  why  should  type  annotations  matter  quoted  disambiguate  properties  should  bail  renaming  this  probably  what  going  the  simple  case  originally  posted  well  have  fix  pending  one  liner  essentially  plus  some  unit  tests  basically  was  misunderstanding  what  you  were  originally  saying  the  clues  were  there  but  removed  and  devirtualized  were  misleading  the  property  was  still  there  just  inappropriately  renamed  disambiguate  properties  the  fix  will  most  likely  land  monday  longer  term  need  add  some this external property  method  calling  convention  isn  really  good  have  the  all  unquoted  property  renaming  policy  hard  coded  into  all  our  passes  thanks  john  sorry  about  the  confusion  this  issue  was  closed  revision  17961ae  this  issue  was  closed  revision  17961ae</description>
</buginformation>
<fixedfiles>
<file>com.google.javascript.jscomp.DisambiguateProperties</file>
</fixedfiles>
</bug>
</bugrepository>
