<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Closure_156" link="https://storage.googleapis.com/google-code-archive/v2/code.google.com/closure-compiler/issues/issue-389.json">
<buginformation>
<summary>compiler  crashes  assign  statement</summary>
<description>large  app  containing  the  entire  dojo  toolkit  library  code  fragment  that  fails  constructor  param  object  params  dojox  gfx  shape  shape  function  params  dojox  gfx  shape  shape  dojo  declare  quot  dojox  gfx  shape  shape  quot  null  lends  dojox  gfx  shape  shape  prototype  error  message  java  lang runtime exception  java  lang runtime exception  internal  compiler  error  please  report  this  problem  unexpected  variable  dojox  gfx  shape  shape  node  name  dojox  gfx  shape  shape  release  src  dijit  uncompressed  15135  dojox  gfx  shape  shape  dojo  declare  quot  dojox  gfx  shape  shape  quot  null  lends  dojox  gfx  shape  shape  prototype  parent  assign  release  src  dijit  uncompressed  15135  dojox  gfx  shape  shape  dojo  declare  quot  dojox  gfx  shape  shape  quot  null  lends  dojox  gfx  shape  shape  prototype  com  google  javascript  jscomp  compiler run callable  unknown  source  com  google  javascript  jscomp  compiler run compiler thread  unknown  source  com  google  javascript  jscomp  compiler  compile  unknown  source  com  google  javascript  jscomp  compiler  compile  unknown  source  com  google  javascript  jscomp abstract command line runner  run  unknown  source  com  google  javascript  jscomp abstract command line runner  run  unknown  source  com  google  javascript  jscomp command line runner  main  unknown  source  caused  java  lang runtime exception  internal  compiler  error  please  report  this  problem  unexpected  variable  dojox  gfx  shape  shape  node  name  dojox  gfx  shape  shape  release  src  dijit  uncompressed  15135  dojox  gfx  shape  shape  dojo  declare  quot  dojox  gfx  shape  shape  quot  null  lends  dojox  gfx  shape  shape  prototype  parent  assign  release  src  dijit  uncompressed  15135  dojox  gfx  shape  shape  dojo  declare  quot  dojox  gfx  shape  shape  quot  null  lends  dojox  gfx  shape  shape  prototype  com  google  javascript  jscomp var check  visit  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse branch  unknown  source  com  google  javascript  jscomp node traversal traverse roots  unknown  source  com  google  javascript  jscomp node traversal traverse roots  unknown  source  com  google  javascript  jscomp var check  process  unknown  source  com  google  javascript  jscomp phase optimizer pass factory delegate process internal  unknown  source  com  google  javascript  jscomp phase optimizer named pass  process  unknown  source  com  google  javascript  jscomp phase optimizer  process  unknown  source  com  google  javascript  jscomp  compiler  optimize  unknown  source  com  google  javascript  jscomp  compiler compile internal  unknown  source  com  google  javascript  jscomp  compiler  access  000  unknown  source  com  google  javascript  jscomp  compiler  call  unknown  source  com  google  javascript  jscomp  compiler  call  unknown  source  com  google  javascript  jscomp  compiler  run  unknown  source  java  lang  thread  run  unknown  source  caused  java  lang illegal state exception  unexpected  variable  dojox  gfx  shape  shape  more  sorry  forgot  again  newest  mar  version  would  you  able  give  code  snippet  that  can  reproduce  this  attached  four  documents  the  order  dojo  uncompressed  dijit  dijit  uncompressed  closure  the  error  happens  the  very  last  portion  the  third  file  comment deleted comment deleted let  have  peek  having  trouble  reproducing  are  you  using  modules  for  your  compile  well  attached  the  externs  file  well  that  all  folks  except  for  user  code  computer  win  crashed  with  this  java  jar  compiler  jar  warning  level  verbose  externs  ihs  externs  dojo  uncompressed  dijit  dijit  uncompressed  closure  output  file  ihsfull  compilation  level  advanced  optimizations  create  name  map  files  true  jscomp  error check types  jscomp  error access controls  formatting  print  input  delimiter  java  environment  java  runtime  environment  build  java hot spot  client  build  mixed  mode  sharing  can  reproduce  now  warning  level  verbose  and  the  extern  was  needed  looking  looks  like  property  collapsing  doing  something  weird  don  have  fix  for  yet  you  might  want  try  disabling  that  you  want  continue  using  advanced  mode  the  the  mean  time  thanks  for  the  info  how  can  disable  property  collapsing  should  just  take  away  warning  level  verbose  disable  property  collapsing  you  would  need  custom  build  the  compiler  make  such  local  changes compilation level  jav  just  disable  the  option  that  probably  too  much  for  don  even  have  java  compiler  think  should  take  away  verbose  warning  for  the  time  being  and  try  see  works  fyi  one  the  name  space  sometimes  collpase  this  the  compiled  output  strangely  they  appear  next  each  other  dojox  gfx  shape  shape  function  params  dojox  gfx  shape  shape  dojo  declare  dojox  gfx  shape  shape  null  constructor  function  this  was  older  version  that  version  has  dojox  gfx  being  used  inside  named  function  declared  within  wrapper  closure  causing  incomplete  alias  should  not  collapsed  sorry  typo  there  was  alias  var  dojox  gfx  being  used  inside  named  function  declared  within  wrapper  closure  incomplete  alias  and  should  not  collapsed  update  rewriting  named  function  that  uses  the  alias  dojox  gfx  which  then  allows  dojox  gfx  collapsed  longer  triggers  this  error  believe  this  error  occurs  whenever  verbose  used  and  whenever  the  variable  access  cannot  collapsed  further  update  compiled  program  successfully  without  triggering  crash  dojox  gfx  collapsed  however  when  compiled  with  debug  true  all  mangled  names  for  local  variables  and  parameters  are  wrong  the  names  look  nothing  like  the  actual  variable  and  argument  names  but  look  like  they  from  variables  other  functions  looks  like  something  overwriting  mangled  names  the  wrong  positions  the  variable  renaming  algorithm  was  improved  allow  local  names  shadowed  however  this  has  made  mess  the  debug  output  believe  that  alan  has  change  pending  improve  this  don  think  the  bug  fixed  would  not  have  cause  the  names  all  wrong  can  you  describe  what  wrong  with  the  names  alanfyi  got  small  repro  case  for  the collapse properties  issue  changed  few  functions  the  files  attached  that  dojox  gfx  can  collapsed  compiled  with  verbose  crash  file  ran  without  errors  compiled  with  verbose  debug  true  file  doesn  run  exception  browser  open  file  and  see  all  local  variable  argument  names  messed  variables  messed  that  they  conflict  with  other  function  global  variable  names  doesn  run  behavior  for  example  function  function  hello  world  abc  var  test  abc  world  world  test  may  become  function  something  completely  different  del clear 156  var  tmp  may  conflict  with  other  names clear 156  del  del  tmp  may  conflict  with  other  names  notice  that  the  variable  names  show  other  functions  normally  should  something  like  function  hello world 123 abc 456  var  test abc 456 world 123 world 123  test  attached  new  dijit  uncompressed  replace  the  original  one  and  compile  with  verbose  and  debug  true  turning  debug  true  should  not  break  code  currently  debug  true  creates  file  that  doesn  run  this  issue  was  closed  revision  951  great  does  solve  the  debug  true  prob  well  believe  that  problem  was  fixed  unrelated  change</description>
</buginformation>
<fixedfiles>
<file>com.google.javascript.jscomp.CollapseProperties</file>
</fixedfiles>
</bug>
</bugrepository>
