<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Mockito_10" link="https://github.com/mockito/mockito/issues/99">
<buginformation>
<summary>returns  deep  stubs  automatically  tries  create  serializable  mocks</summary>
<description>just migrating from mockito the following code runs fine with version but breaks now test public void test mocked mock mock mocked class returns deep stubs assert that mock get something not null public static class mocked not serializable return value field public mocked not serializable return value field this field field public not serializable return value get something return field public static class not serializable return value string field public not serializable return value string field this field field public string get something return field org mockito exceptions base mockito exception you are using the setting with settings serializable however the type you are trying mock not serializable return value not implement serializable and not have arg constructor the text was updated successfully but these errors were encountered copy link member mockitoguy commented oct 2014 hey perhaps mockito too aggressive with this validation the thing that this code could break you stub some those methods bric thoughts thanks for reporting can you update your code and add serializable default constructor copy link contributor bric commented oct 2014 just experienced the same issue when wanted test our custom dsl api current project believe there was some issue sometime ago before moved github about serialization may relate deep stubs copy link ghost commented oct 2014 https code google com mockito issues detail 399 right don really understand this validation have interest code being serializable nor serializing mock stub why have make and add default constructors allowing partially constructed objects just use deep stubs shouldn have opt need want deep stubs serializable missing something copy link author joerg pfruender commented oct 2014 szczepiq for one occurence was able implement default constructor for another occurence did not feel sensible add default constructor changed this and mocked all used method calls manually for now btw thank you very much for sharing and caring for mockito copy link contributor bric commented oct 2014 for some reason the deep stub code was enabling children stubs always serializable which doesn make sense the plane crafted fix push asap bric added commit that referenced this issue oct 2014 fixes issue deep stubs where automatically marked serializable loading status checks 547565 with this commit children mocks will use the serialization mode their parent bric mentioned this issue oct 2014 fixes issue returns deep stubs automatically tries create serializable mocks 103 merged bric added commit that referenced this issue oct 2014 merge pull request 103 from mockito fixes issue loading status checks 1beeae fixes issue bric closed this oct 2014 copy link contributor bric commented oct 2014 should fixed copy link ghost commented oct 2014 excellent thanks bric let take this chance add that mockito excellent piece software and near perfect mocking library imo all your efforts are highly appreciated was workshop with michael feathers recently and was asking him whether planned update his book working effectively with legacy code reflect the invent modern non strict mocking frameworks such mockito opinion they have revolutionized dependency breaking and bringing legacy code under test luck but maybe someone should write new updated such book bric added commit that referenced this issue oct 2014 reuse message issue for 103 386aa skip copy link member mockitoguy commented oct 2014 hey was released bintray jcenter for some reason maven central sync didn work what you think needs fixed that mockito perfect fri oct 2014 chad notifications github com wrote excellent thanks bric https github com bric let take this chance add that mockito excellent piece software and near perfect mocking library imo all your efforts are highly appreciated was workshop with michael feathers recently and was asking him whether planned update his book working effectively with legacy code reflect the invent modern non strict mocking frameworks such mockito opinion they have revolutionized dependency breaking and bringing legacy code under test luck but maybe someone should write new updated such book reply this email directly view git hub comment szczepan faber core dev gradle founder mockito mockitoguy added the bug label oct 2014 jerzykrlk added commit jerzykrlk mockito that referenced this issue oct 2014 fixes issue mockito deep stubs where automatically marked seria 95d 609f lizable with this commit children mocks will use the serialization mode their parent jerzykrlk added commit jerzykrlk mockito that referenced this issue oct 2014 reuse message issue mockito for mockito 103 288b 42a skip paulduffin mentioned this issue mar 2017 fixes 992 backport mockito compatibility matcher from aid migration 1015 closed tasks complete sign for free join this conversation git hub already have account sign comment assignees one assigned labels bug projects none yet milestone milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>org.mockito.internal.stubbing.defaultanswers.ReturnsDeepStubs</file>
</fixedfiles>
</bug>
</bugrepository>
