<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Jsoup_47" link="https://github.com/jhy/jsoup/issues/528">
<buginformation>
<summary>jsoup  not  retaining  data  attributes</summary>
<description>jsoup not retaining data attributes value there the example below converted the output after parsing please let know how retain example http notes gww uggedal krystiangor bbeck the text was updated successfully but these errors were encountered copy link contributor krystiangorecki commented feb 2015 can anyone explain why parse html entities within org jsoup parser tokeniser state attribute value double quoted shouldn all quoted values left unchanged when data params attribute parsed internally stored content and seems there nothing wrong with this case probably invokes string which leads org jsoup nodes attribute html string builder output settings entities escape accum value out true false false and escapes back again quot the final result quot content quot happens because when found within attribute escaped again quot case attribute accum append quot but and aren case attribute accum append else accum append maybe someone more experienced can explain this behaviour sandev seems that your original value lost but you can obtain unescaped value content directly from attribute doc select first attributes list get get value string ugly copy link author sandev commented feb 2015 krystiangor think the correct fix should something like below testing out see good all scenarios please let know your opinion case xhtml and attribute attribute escape mode escape mode xhtml accum append not attribute else attribute accum append non xhtml and attribute else accum append break copy link contributor krystiangorecki commented mar 2015 running org jsoup nodes document test tests run failures errors skipped time elapsed 107 sec failure test output encoding org jsoup nodes document test time elapsed 004 sec failure org junit comparison failure expected title amp but was title amp but after small correction seems pass all the tests case xhtml and attribute attribute escape mode escape mode xhtml accum append not attribute else attribute accum append non xhtml and attribute else accum append break copy link owner jhy commented jul 2015 took while understand this the allowed characters xml attribute are different html html https html spec whatwg org multipage syntax html attributes xml http www org xml att value jhy closed this 025d jul 2015 zazi added commit dswarm jsoup that referenced this issue oct 2015 escape xml attributes 87defd fixes jhy 528 jhy mentioned this issue apr 2016 jsoup unencoding attribute values 684 closed sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>org.jsoup.nodes.Entities</file>
</fixedfiles>
</bug>
</bugrepository>
