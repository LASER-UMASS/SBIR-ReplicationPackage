<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonDatabind_31" link="https://github.com/FasterXML/jackson-databind/issues/984">
<buginformation>
<summary>json stream contexts  are  not  build  the  same  way  for  write  and  convert  methods</summary>
<description>got issue reported jackson antpathfilter project that the filtering not working correctly when used together with jackson convert feature antibrumm jackson antpathfilter during the investigation found out that the cause that the write context created differently and wondering this the desired behavior that bug for you this comment antibrumm jackson antpathfilter comment print out what found the write context and have created test case reproduce the error please let know what you think the text was updated successfully but these errors were encountered copy link member cowtowncoder commented oct 2015 ideally contexts would work identically but implementations differ convert uses token buffer for storing intermediate values and handling may differ due implementation details sounds like flaw implementation copy link member cowtowncoder commented oct 2015 yes think can reproduce this with cowtowncoder added this the milestone oct 2015 cowtowncoder closed this 25f oct 2015 copy link member cowtowncoder commented oct 2015 turns out token buffers write number and other scalar methods were not properly indicating value being written and that resulted not sure how field name not getting updated created unit test reproduce issue fix however not the exactly same what you have verification would useful case there could other uncovered far issues but for now assume this resolves your problem well copy link author antibrumm commented oct 2015 you are too fast for planned provide you with test will now try against your snapshot thanks lot copy link author antibrumm commented oct 2015 did quick test now and this fixes the issue thanks did not yet implement assert test mapper write value string judgements judgement judgement date 1446124992511 courthouse name courthouse judgement judgement date 1446124992511 courthouse name courthouse mapper convert value judgements mapper get type factory construct collection type list class object class judgement judgement date 1446124992511 courthouse name courthouse judgement judgement date 1446124992511 courthouse name courthouse antibrumm mentioned this issue oct 2015 convert value not working correctly with antpathfilter antibrumm jackson antpathfilter closed copy link member cowtowncoder commented oct 2015 good least not something that obviously not fixed change sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.databind.util.TokenBuffer</file>
</fixedfiles>
</bug>
</bugrepository>
