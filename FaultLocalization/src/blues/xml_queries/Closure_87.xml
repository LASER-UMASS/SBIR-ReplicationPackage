<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Closure_87" link="https://storage.googleapis.com/google-code-archive/v2/code.google.com/closure-compiler/issues/issue-291.json">
<buginformation>
<summary>error  object  doesn  support  this  action</summary>
<description>what  steps  will  reproduce  the  problem  use  script  with  fragment  like  onchange  onchange extended prototype  prototype empty function  target  compile  with  compiler  command  line  latest  version  use  what  the  expected  output  script  onchange  onchange extended prototype  prototype empty function  target  what  you  see  instead  script  onchange  amp  amp  onchange extended prototype  prototype empty function  target  error  message  quot  object  doesn  support  this  action  quot  what  version  the  product  are  you  using  what  operating  system  version  20100917  revision  440  built  2010  can  you  provide  more  details  here  unable  reproduce  problem  with  onchange  onchange  use  third  party  javascript  library  which  assigns  event  handler  element  onchange  property  onchange  function  event  other  part  library  this  onchange  handler  invoked  directly  after  changing  content  element  using  fake  event  object  value  some  value  onchange  onchange extended prototype  prototype empty function  target  and  and  maybe  executes  script  onchange  onchange  but  fires  error  object  doesn  support  this  action  optimized  script  onchange  onchange  can  you  provide  small  program  that  demonstrates  this  onchange  should  not  called  either  case  maybe  the  problem  elsewhere  here  what  used  try  reproduce  the  problem  html  head  script set timeout  function  var  document get element  foo  alert  onchange  onchange  ext  function  target  alert  unexpected  else  alert  onchange  function  return  true  onchange  onchange  ext  function  target  alert  else  alert  unexpected  100  script  head  body  div  foo  div  some  text  body  html  comment deleted comment  lior  berry  today  minutes  ago  encountered  similar  error  when  trying  use  swfobject  http  ajax  googleapis  com  ajax  libs  swfobject  swfobject  that  compiled  with  the  closure  compiler  getting  the  following  error  only  message  unexpected  call  method  property  access  line  char  285  code  uri  http  myserveraddress  swfobject  compiled  use  the  non  compiled  version  the  script  works  fine  addition  compiling  version  swfobject  also  works  fine  maybe  diffing  the  two  versions  can  help  you  narrow  down  the  problem  this  the  html  code  use  html  head  script  src  swfobject  compiled  type  text  javascript  script  head  body  testing  script  type  text  javascript  swfobject embed swf  player  swf  player  placeholder  480  360  115  false  script  body  html  here  example  clicking  test  button  causes  error  doctype  html  public  dtd  xhtml  transitional  http  www  org  xhtml  dtd  xhtml  transitional  dtd  html  xmlns  http  www  org  1999  xhtml  head  meta  http  equiv  content  type  content  text  html  charset  utf  title  onchange  title  script  type  text  javascript  function test onchange  var  document get element  select  onchange  ext  function  target  script  head  body  form  form  action  select  select  option  option  option  option  select  input  type  button  value  test  onclick test onchange  form  script  type  text  javascript  var  document get element  select  onchange  function  alert  changed  target  value  script  body  html  maybe  specific  the  select  element  and  what  now  use  older  versions  compiler  and  wait  for  new  release  not  use  compiler  all  you  never  fix  somehow  tell  him  not  optimize  expressions  type  object  method  object  method  the  way  happens  not  only  select  fields  also  text  inputs  input  type  text  not  convinced  that  simple  escaping  that  one  optimization  think  need  have  better  handle  why  does  this  know  how  work  around  other  cases  narrowed  vkhomyackov test onchange  down  this  script  type  text  javascript  function test onchange  var  document get element  select  onchange  script  the  and  the  object  literal  are  both  necessary  removing  the  bug  away  notably  the  bug  does  not  appear  you  have  onchange  somehow  contingent  the  return  value  onchange  being  consumed  another  expression  the  bug  also  reproduces  you  have  return  onchange  after  few  more  tests  here  half  assed  theory  what  happening  nodes  are  implemented  com  objects  assume  that  these  com  objects  have  some  special  logic  for  event  handler  properties  like  onchange  because  foo  onchange  some  string  will  convert  the  string  into  function  perhaps  they  have  some  internal  pointers  those  functions  let  also  suppose  that  com  objects  have  some  logic  for  doing  overloaded  method  dispatch  for  some  reason  calling  onchange  and  using  its  return  value  triggers  bug  the  overloaded  method  dispatcher  which  makes  call  native  method  instead  the  method  the  internal  pointer  again  this  all  very  much  guess  work  and  probably  wrong  some  key  points  not  all  them  but  the  explanation  consistent  with  the  behavior  seeing  only  happens  when  both  the  return  value  and  parameter  are  used  regardless  what  they  are  how  they  used  and  can  repro  with  any  methods  that  aren  event  handlers  may  enough  add  shim  check  for  this  specific  case  fortunately  the  bug  not  but  ever  run  into  one  the  engineers  may  ask  them  about  this  issue  was  closed  revision  631  issue  371  has  been  merged  into  this  issue</description>
</buginformation>
<fixedfiles>
<file>com.google.javascript.jscomp.PeepholeSubstituteAlternateSyntax</file>
</fixedfiles>
</bug>
</bugrepository>
