<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonDatabind_86" link="https://github.com/FasterXML/jackson-databind/issues/1647">
<buginformation>
<summary>missing  properties  from  base  class  when  recursive  types  are  involved</summary>
<description>when type hierarchy follows constructed and the base class type constructed first the type factory then serializing the sub class fails due missing properties from the base class class base implements face sub json property int base class sub json property int sub interface face serializes sub sub where base sub expected created minimal scenario this bug here https github com slobo showbie jackson recursive type bug experienced this bug and the text was updated successfully but these errors were encountered copy link contributor author slobo showbie commented jun 2017 the reason the base fields are not serialized that annotated class find fields does not return the fields from base now find fields makes the assumption that class has super class then must object interface their fields are not returned order for find fields work the java type for sub must simple type and for base also simple type however this case sub still simple type but base resolved recursive type resolved recursive type does not return super class base fields are ignored find fields the reason base resolved recursive type because type factory cache consider type factory construct type base class caches the type for sub class type factory construct type sub class returns from the cache line construct type performs recursive traversal like this base simple type face sub sub simple type base resolved recursive type the second time base reached resolved recursive type generated rather than simple type however also the intermediate types are cached the cached result returned line sub simple type with superclass base resolved recursive type however only line called without line then the following would have been returned sub simple type with superclass base simple type slobo showbie added commit slobo showbie jackson databind that referenced this issue jun 2017 add failing test for faster xml 1647 3ce 171 slobo showbie added commit slobo showbie jackson databind that referenced this issue jun 2017 fix faster xml 1647 dfd 7fff slobo showbie added commit slobo showbie jackson databind that referenced this issue jun 2017 add failing test for faster xml 1647 47b slobo showbie added commit slobo showbie jackson databind that referenced this issue jun 2017 add test for faster xml 1647 7ee 69be slobo showbie added commit slobo showbie jackson databind that referenced this issue jun 2017 add test for faster xml 1647 214b slobo showbie added commit showbie jackson databind that referenced this issue jun 2017 add failing test for faster xml 1647 9049d slobo showbie added commit showbie jackson databind that referenced this issue jun 2017 fix faster xml 1647 83aef slobo showbie added commit showbie jackson databind that referenced this issue jun 2017 add test for faster xml 1647 4474351 slobo showbie added commit showbie jackson databind that referenced this issue jun 2017 add failing test for faster xml 1647 249a 252 slobo showbie added commit showbie jackson databind that referenced this issue jun 2017 fix faster xml 1647 1756e slobo showbie added commit showbie jackson databind that referenced this issue jun 2017 add test for faster xml 1647 0fc copy link member cowtowncoder commented jun 2017 excellent detective work cowtowncoder added commit that referenced this issue jun 2017 merge pull request 1650 from slobo showbie loading status checks 74347 fix 1647 missing properties from base class when recursive types are involved cowtowncoder added this the milestone jun 2017 cowtowncoder added commit that referenced this issue jun 2017 update release notes wrt 1647 loading status checks 247122f cowtowncoder closed this 0326f jun 2017 copy link fmacicasan commented nov 2017 spent the better part today debugging odd json serializer caches drilled down this issue after rage binary chop upgrading jackson until unit tests were green 1000 for this thanks fmacicasan referenced this issue nov 2017 yet more refactoring now constructors and fields done only methods loading status checks 43ef 006 remain sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.databind.type.ResolvedRecursiveType</file>
</fixedfiles>
</bug>
</bugrepository>
