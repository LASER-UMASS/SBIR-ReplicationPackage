<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JxPath_3" link="https://issues.apache.org/jira/browse/JXPATH-68">
<buginformation>
<summary>stack overflow  error  call path context create path</summary>
<description>running  into  stackoverflow  error  call  jxpathcontext  createpath  whenever  have  path  that  looks  like  took  quick  look  the  code  and  appears  jxpath  when  trying  create  its  parent  pointer  simply  recreates  equivalent  pointer  here  code  reproduce  the  problem  map  map  new  hashmap  map  put  null  jxpathcontext  pathcontext  jxpathcontext  newcontext  map  pathcontext  setfactory  new  abstractfactory  public  boolean  createobject  jxpathcontext  context  pointer  pointer  object  parent  string  name  int  index  map  parentmap  map  parent  system  out  println  parent  name  index  index  list  list  list  parentmap  get  name  list  null  list  new  arraylist  int  size  list  size  for  int  size  index  list  add  null  parentmap  put  name  list  else  parentmap  put  name  new  hashmap  return  true  pathcontext  createpath  have  continued  looking  into  this  and  found  that  the  problem  that  the  list  created  with  null  element  jxpath  gets  stuck  infinite  recursion  discover  this  changed  factory  implement  the  following  method  public  boolean  createobject  jxpathcontext  context  pointer  pointer  object  parent  string  name  int  index  pointer  instanceof  nodepointer  index  nodepointer  pointer  getindex  system  out  println  parent  name  index  map  parentmap  map  parent  index  list  list  list  parentmap  get  name  list  null  list  new  arraylist  int  size  list  size  for  int  size  index  list  add  new  hashmap  don  set  null  parentmap  put  name  list  else  parentmap  put  name  new  hashmap  return  true  then  ran  the  following  code  pathcontext  createpath  pathcontext  createpath  stack  overflow  here  here  the  stack  trace  the  beginning  where  valueutils  expandcollection  called  puts  null  into  the  list  thus  causing  the  stack  overflow  cycle  between  createpath  createchild  thread  main  suspended  breakpoint  line  227  dynamicpropertypointer  dynamicpropertypointer  createpath  jxpathcontext  line  227  dynamicpropertypointer  propertypointer  createchild  jxpathcontext  qname  int  line  188  nullelementpointer  createpath  jxpathcontext  line  nullpointer  createpath  jxpathcontext  line  nullpropertypointer  createpath  jxpathcontext  line  103  nullpointer  createpath  jxpathcontext  line  nullpropertypointer  createpath  jxpathcontext  line  103  jxpathcontextreferenceimpl  createpath  string  expression  line  447  jxpathcontextreferenceimpl  createpath  string  line  427  test  test  line  test  main  string  line</description>
</buginformation>
<fixedfiles>
<file>org.apache.commons.jxpath.ri.model.beans.NullPropertyPointer</file>
</fixedfiles>
</bug>
</bugrepository>
