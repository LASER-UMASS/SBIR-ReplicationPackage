<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonCore_17" link="https://github.com/FasterXML/jackson-core/issues/307">
<buginformation>
<summary>json generation exception  split  surrogate write raw  input  thrown  for  input  certain  size</summary>
<description>edited short seeing the following exception while processing text that includes valid multi byte unicode characters and adding removing characters before the problematic characters can affect whether the exception thrown java classpath jackson core target jackson core snapshot jar bad msg com fasterxml jackson core json generation exception split surrogate write raw input last character com fasterxml jackson core json generator report error json generator java 1887 com fasterxml jackson core json utf json generator output raw multi byte char utf json generator java 1916 com fasterxml jackson core json utf json generator write segmented raw utf json generator java 697 com fasterxml jackson core json utf json generator write raw utf json generator java 611 com fasterxml jackson core json utf json generator write raw utf json generator java 560 com fasterxml jackson core base generator base write raw value generator base java 306 bad msg main bad msg java the simplest way demonstrate this code will attach sample program with document that causes the error sorry for the ugly redacted text but you can imagine some real words and other interesting strings place all the note that delete add enough the characters doesn matter where the json they appear long before the character that causes the exception the exception will not thrown believe the problem buffering the data that passed the lower level functions but have not debugged that level the text was updated successfully but these errors were encountered copy link author mtnaseef commented aug 2016 don see way attach file here bad msg java pastebin http pastebin com copy link member cowtowncoder commented aug 2016 thank you for reporting this investigating now bit nasty problem caused segmented nature processing surrogate pair located boundary segment buffer exception thrown need figure out way handle this case cowtowncoder mentioned this issue aug 2016 utf json generator writes supplementary characters surrogate pair should use byte encoding 223 open cowtowncoder closed this 554f 8db aug 2016 kjmrknsn mentioned this issue nov 2017 livy 416 upgrade the version jackson from apache incubator livy closed hubot pushed commit apache incubator livy that referenced this issue nov 2017 livy 416 upgrade the version jackson from loading status checks 59e what changes were proposed this pull request https issues apache org jira browse livy 416 com fasterxml jackson core json generation exception sometimes thrown the full stack trace show json generation exception txt https github com apache incubator livy files 1482566 json generation exception txt this because the jackson bug faster xml jackson core 307 which was fixed jackson fix this issue the version jackson should updated from the latest one addition com google guava guava was added the dependencies because was removed from the dependencies com fasterxml jackson module jackson module scala com fasterxml jackson module jackson module scala https mvnrepository com artifact com fasterxml jackson module jackson module scala com fasterxml jackson module jackson module scala https mvnrepository com artifact com fasterxml jackson module jackson module scala com fasterxml jackson module jackson module scala https mvnrepository com artifact com fasterxml jackson module jackson module scala com fasterxml jackson module jackson module scala https mvnrepository com artifact com fasterxml jackson module jackson module scala how was this patch tested executing mvn clean package author keiji yoshida kjmrknsn gmail com closes from kjmrknsn livy 416 this was referenced mar 2018 spark 23603 sql when the length the json range get json object will result missing tail data apache spark 20738 closed spark 23603 sql when the length the json range get json object will result missing tail data apache spark 20739 closed cxzl mentioned this issue jun 2018 spark 24601 update jackson apache spark 21596 closed sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.core.json.UTF8JsonGenerator</file>
</fixedfiles>
</bug>
</bugrepository>
