<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonDatabind_95" link="https://github.com/FasterXML/jackson-databind/issues/1941">
<buginformation>
<summary>throws  npe  for  unparameterized  generic  canonical  strings</summary>
<description>when type factory construct from canonical return type used the return type string for generic types not expected have parameterized type information for example the following code runs fine return type java util list object mapper get type factory construct from canonical return type but version the same code gives null pointer exception with the stack trace java rmi remote exception java lang null pointer exception null com fasterxml jackson databind type type factory from variable type factory java 1421 com fasterxml jackson databind type type factory from any type factory java 1182 com fasterxml jackson databind type type factory from param type type factory java 1404 com fasterxml jackson databind type type factory from any type factory java 1172 com fasterxml jackson databind type type factory resolve super interfaces type factory java 1318 com fasterxml jackson databind type type factory from class type factory java 1261 com fasterxml jackson databind type type parser parse type type parser java com fasterxml jackson databind type type parser parse type parser java com fasterxml jackson databind type type factory construct from canonical type factory java 544 foo company package serialize serializer deserialize serializer java 355 but the return type string passed with the generic type information even passed object return type java util list java lang object works fine have questions there way make this change backward compatible not how can work around this the workaround given tatu the mailing list not clear someone can give example great help thanks link google groups thread the text was updated successfully but these errors were encountered copy link author ayushgp commented feb 2018 figured out the workaround you were suggesting just leave the code here someone stumbles this issue private static string add generic type information string return type already has type information need add return type contains return return type try int num type parameters class for name return type get type parameters length num type parameters return type string join collections copies num type parameters java lang object catch class not found exception don anything return type will returned return return type cowtowncoder added active labels feb 2018 copy link member cowtowncoder commented feb 2018 that works what was thinking was rather that before trying call this method you see call even needed thing that unless generic type parameters exist string you really not need you can just use class for name type string and then resolve that class not canonical name hope fix the issue itself too however cowtowncoder added this the milestone mar 2018 cowtowncoder changed the title type factory construct from canonical return type throws npe for unparameterized generic canonical strings type factory construct from canonical throws npe for unparameterized generic canonical strings mar 2018 cowtowncoder closed this 18dc 249 mar 2018 cowtowncoder removed the active label jul 2018 sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.databind.type.TypeFactory</file>
<file>com.fasterxml.jackson.databind.type.TypeParser</file>
</fixedfiles>
</bug>
</bugrepository>
