<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Jsoup_78" link="https://github.com/jhy/jsoup/issues/980">
<buginformation>
<summary>underlying  input  stream  returned  zero  bytes</summary>
<description>caused org jsoup java exception underlying input stream returned zero bytes org jsoup parser character reader buffer character reader java org jsoup parser character reader character reader java org jsoup parser character reader character reader java org jsoup parser tree builder default settings tree builder java org jsoup parser html tree builder initialise parse html tree builder java org jsoup parser tree builder parse tree builder java org jsoup parser parser parse input parser java org jsoup helper data util parse input stream data util java 151 org jsoup helper http connection response parse http connection java 832 org jsoup helper http connection get http connection java 289 there isn much information can offer here this with soup with attempt parsing for user name assumption that the call executing the following var result try result frost jsoup cookie item profile url title fetch username found result catch exception unknown host exception log frost answers fetch username failed finally result blank name not blank true callback name return subscribe name result name result save cookie this fetch username callback result where cookie the user cooke and the url touch facebook com not sure why this seemlingly fatal error though usual the full log and thread info can found here the text was updated successfully but these errors were encountered allan wang mentioned this issue nov 2017 character reader java line allan wang frost for facebook 511 closed copy link xring commented mar 2018 using got this org jsoup unchecked exception java exception underlying input stream returned zero bytes org jsoup parser character reader buffer character reader java org jsoup parser character reader current character reader java org jsoup parser tokeniser state read data tokeniser state java 1669 org jsoup parser tokeniser state access 200 tokeniser state java org jsoup parser tokeniser state read tokeniser state java org jsoup parser tokeniser read tokeniser java org jsoup parser tree builder run parser tree builder java org jsoup parser tree builder parse tree builder java org jsoup parser parser parse input parser java org jsoup helper data util parse input stream data util java 151 org jsoup helper http connection response parse http connection java 832 then the class define package org jsoup import java exception public class unchecked exception extends error public unchecked exception exception cause super cause public exception exception return exception get cause that why your catch exception did not work curious why this unchecked exception extends from error krystiangorecki mentioned this issue apr 2018 java exception underlying input stream returned zero bytes 1041 closed copy link dentex commented apr 2018 edited also having this issue after switching the latest version the library had the for ages without issue any hint error fatal exception java lang runtime exception error occurred while executing background caused org java exception underlying input stream returned zero bytes org jsoup parser character reader buffer character reader java org jsoup parser character reader current character reader java org jsoup parser tokeniser state read data tokeniser state java 1669 org jsoup parser tokeniser state read tokeniser state java org jsoup parser tokeniser state read tokeniser state java org jsoup parser tokeniser read tokeniser java org jsoup parser tree builder run parser tree builder java org jsoup parser tree builder parse tree builder java org jsoup parser parser parse input parser java org jsoup helper data util parse input stream data util java 151 org jsoup helper http connection response parse http connection java 832 org jsoup helper http connection get http connection java 289 code document watch doc try watch doc jsoup connect urls user agent network utils get user agent string get crash catch exception logger exception also have other two similar errors but regarding socket exception socket closed the crashing line code the same one more info http crashes 90972cb http crashes 118549392 http crashes 49ffec 85052 copy link dentex commented apr 2018 seems that version the last without this problem just tested dentex mentioned this issue apr 2018 version has exception not caught character reader buffer 1005 closed jhy closed this 79b apr 2018 jhy added the bug label apr 2018 jhy added this the milestone apr 2018 copy link dentex commented apr 2018 blazing fast copy link owner jhy commented apr 2018 thanks for reporting this issue have fixed the main issue which that this was thrown unchecked exception error instead the expected exception the exception will still occur but will handled your regular exception handler around your connection get the problem happens mostly when the remote server sets content length header greater than actually writes gzip stream maybe the remote dieing during the write the response not complete and the exception thrown this happens during parse time not the initial connect because the response streamed through the parser copy link dentex commented apr 2018 thanks again you just commented below allan wang issue jhy mentioned this issue apr 2018 javax net ssl ssl exception read error 1047 closed copy link 97037676 commented apr 2018 jhy thanks problem solved was exhausting and was miserable sepe added commit sepe lvz viz that referenced this issue sep 2018 update jsoup and fix bug while crawling 69e 3ed fixes jhy jsoup 980 org jsoup unchecked exception java exception underlying input stream returned zero bytes allan wang mentioned this issue jan 2019 java exception stream decoder java 292 allan wang frost for facebook 1284 closed copy link author allan wang commented jan 2019 jhy just clarify this longer thrown exception right because exceptions are caught within jsoup still getting errors and seems after updated this dependency copy link jnex commented feb 2020 the latest version still present use jsoup meter recordings and thrown the same exception copy link owner jhy commented feb 2020 edited allan wang the issue that was fixed specificall this bug mentioned 980 comment exceptions should thrown checked exceptions not unchecked errors those are still thrown the event exception such the server not writing all the bytes the stream that promised for gzip stream you need catch those jnex that completely different exception and fixed 1250 would recommend not using images for stack traces just paste the stack that you and others can search for them sign for free join this conversation git hub already have account sign comment assignees one assigned labels bug projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>org.jsoup.helper.DataUtil</file>
</fixedfiles>
</bug>
</bugrepository>
