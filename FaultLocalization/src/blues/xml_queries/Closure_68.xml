<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="Closure_68" link="https://storage.googleapis.com/google-code-archive/v2/code.google.com/closure-compiler/issues/issue-477.json">
<buginformation>
<summary>cryptic  error  message  invalid  type  function  annotation</summary>
<description>what  steps  will  reproduce  the  problem  test  type  function  var  callback  java  jar  compiler  jar  test  what  the  expected  output  what  you  see  instead  warning  reported  test  warning  parse  error  unexpected  end  file  expected  see  the  actual  warning  quot  expected  quot  for  the  previous  line  what  version  the  product  are  you  using  what  operating  system  compiler  20110502  please  provide  any  additional  information  below  simply  adding  quot  quot  quot  type  function  quot  removes  the  warning  but  would  much  more  effective  could  communicate  that  properly  actually  the  correct  annotation  would  type  function  var  callback  doc  type  expressions  are  enclosed  braces  hmm  you  right  that  closure  does  expect  braces  but  doc  type  expressions  not  use  braces  based  the  jsdoc  toolkit  documentation  least  braces  are  only  used  param  jsdoc  that  means  this  less  issue  with  closure  and  more  the  fact  that  want  proper  doc  being  generated  more  importantly  than  closure  understanding  the  types  doc  doesn  document  function  differently  though  having  braces  wouldn  big  deal  either  way  adding  the  parens  actually  does  fix  the  closure  warning  regardless  hmm  mistyped  mine  well  all  the  following  work  type  function  type  function  however  with  without  braces  function  does  require  the  parens  looks  like  you  were  right  the  first  time  well  type  function  does  not  emit  warning  but  mentioned  above  jsdoc  will  not  generate  proper  documentation  the  type  annotation  contains  braces  only  important  when  the  type  itself  type  that  jsdoc  has  seen  class  that  defined  elsewhere  your  javascript  but  important  for  able  link  between  non  native  types  within  our  doc  documentation  and  therefore  including  the  braces  not  option  for  until  doc  supports  braces  type  annotations  either  way  still  think  the  error  could  made  less  cryptic  such  what  reported  param  since  param  even  doc  requires  the  braces  test  warning  bad  type  annotation  missing  opening  param  function  type  should  have  the  same  warning  message  and  now  see  that  initial  message  was  partially  wrong  anyway  with  verbose  warnings  actually  emits  both  messages  java  jar  compiler  jar  test  warning  level  verbose  test  warning  bad  type  annotation  missing  opening  test  warning  parse  error  unexpected  end  file  but  strange  have  cryptic  warning  like  this  show  when  the  root  cause  itself  not  explained  without  adding  further  command  line  arguments  even  though  closure  does  know  what  actually  missing  someone  who  just  getting  started  with  closure  going  thoroughly  confused  the  message  yeah  function  keyword  that  must  always  followed  parens  closure  compiler  agnostic  about  the  braces  around  type  annotations  the  extra  warning  message  should  fixed  this  issue  was  closed  revision  1158</description>
</buginformation>
<fixedfiles>
<file>com.google.javascript.jscomp.parsing.JsDocInfoParser</file>
</fixedfiles>
</bug>
</bugrepository>
