<?xml version="1.0" encoding="ISO-8859-1"?>
<bugrepository name="Defects4J">
<bug id="JacksonDatabind_68" link="https://github.com/FasterXML/jackson-databind/issues/1421">
<buginformation>
<summary>accept  single  value  array  partially  broken</summary>
<description>edited versions following test fails with exception public class test private static final string json message message here static class list collections empty list json creator final list this static class list collections empty list json creator final list this public static class string message json creator json property message string message this message message test public void test throws exception object mapper new object mapper configure deserialization feature accept single value array true read value json class com fasterxml jackson databind exc input mismatch exception can not construct instance com fasterxml jackson databind creators json creator with collection test problem suitable constructor found can not deserialize from object value missing default constructor creator perhaps need add enable type information source message site missing from bid request breq object line column through reference chain java util array list com fasterxml jackson databind exc input mismatch exception from input mismatch exception java com fasterxml jackson databind deserialization context report input mismatch deserialization context java 1354 com fasterxml jackson databind deserialization context handle missing instantiator deserialization context java 1019 com fasterxml jackson databind deser bean deserializer base deserialize from object using non default bean deserializer base java 1207 com fasterxml jackson databind deser bean deserializer deserialize from object bean deserializer java 314 com fasterxml jackson databind deser bean deserializer deserialize bean deserializer java 148 com fasterxml jackson databind deser std collection deserializer deserialize collection deserializer java 289 com fasterxml jackson databind deser std collection deserializer deserialize collection deserializer java 261 com fasterxml jackson databind deser std collection deserializer deserialize collection deserializer java com fasterxml jackson databind deser bean deserializer base deserialize from array bean deserializer base java 1336 com fasterxml jackson databind deser bean deserializer deserialize other bean deserializer java 174 com fasterxml jackson databind deser bean deserializer deserialize bean deserializer java 150 com fasterxml jackson databind object mapper read map and close object mapper java 3806 com fasterxml jackson databind object mapper read value object mapper java 2849 com fasterxml jackson databind creators json creator with collection test test json creator with collection test java while and works fine the text was updated successfully but these errors were encountered spikhalskiy added commit spikhalskiy jackson databind that referenced this issue nov 2016 add failing test for issue faster xml 1421 79bef spikhalskiy added commit spikhalskiy jackson databind that referenced this issue nov 2016 add failing test for issue faster xml 1421 18eee spikhalskiy mentioned this issue nov 2016 add failing test for issue 1421 1446 merged cowtowncoder added commit that referenced this issue nov 2016 merge pull request 1446 from spikhalskiy 1421 failing test loading status checks 7713153 add failing test for issue 1421 copy link member cowtowncoder commented nov 2016 edited thank you for the test have read this some more know this bug not the challenge multiple levels containment and what degree should work ambiguous cases but perhaps the underlying problem itself something different copy link contributor author spikhalskiy commented nov 2016 edited cowtowncoder works fine and branches and use and rely this ability for definitely bug and blocker for updating thanks copy link yuesong commented nov 2016 run into what think the same issue here the test package com addthis codec import java exception import java util array list import java util list import com fasterxml jackson annotation json creator import com fasterxml jackson core type type reference import com fasterxml jackson databind deserialization feature import com fasterxml jackson databind object mapper import org junit assert import org junit test public class test test public void test throws exception string new object mapper read value test new type reference string assert assert equals test value test public void test throws exception object mapper object mapper new object mapper object mapper enable deserialization feature accept single value array list string object mapper read value test new type reference list string list string expected new array list expected add test assert assert equals expected value public static class private value json creator public value this value value test succeeds with but fails with the exception com fasterxml jackson databind json mapping exception can not construct instance com addthis codec test string argument constructor factory method deserialize from string value test source test line column com fasterxml jackson databind json mapping exception from json mapping exception java 270 com fasterxml jackson databind deserialization context instantiation exception deserialization context java 1456 com fasterxml jackson databind deserialization context handle missing instantiator deserialization context java 1012 com fasterxml jackson databind deser value instantiator create from string fallbacks value instantiator java 370 com fasterxml jackson databind deser std std value instantiator create from string std value instantiator java 315 com fasterxml jackson databind deser bean deserializer base deserialize from string bean deserializer base java 1279 com fasterxml jackson databind deser bean deserializer deserialize other bean deserializer java 159 com fasterxml jackson databind deser bean deserializer deserialize bean deserializer java 150 com fasterxml jackson databind object mapper read map and close object mapper java 3798 com fasterxml jackson databind object mapper read value object mapper java 2861 com addthis codec test test test java copy link member cowtowncoder commented nov 2016 yuesong thank you for providing additional test while not certain the same issue error message differs that sounds plausible cowtowncoder added commit that referenced this issue nov 2016 add another test for 1421 8da copy link member cowtowncoder commented nov 2016 suspect 2nd failure least due 1010 that there are separate delegators and perhaps probably 1st one too there something can try resolve array delegator set correctly but not used cowtowncoder added this the milestone nov 2016 cowtowncoder closed this 0cfb nov 2016 copy link member cowtowncoder commented nov 2016 edited fixed for copy link contributor author spikhalskiy commented nov 2016 yay thanks cowtowncoder copy link yuesong commented nov 2016 thanks copy link member cowtowncoder commented nov 2016 thank you for reporting this the process releasing today only partially completed but hopefully all modules out within hours sign for free join this conversation git hub already have account sign comment assignees one assigned labels none yet projects none yet milestone linked pull requests successfully merging pull request may close this issue none yet participants</description>
</buginformation>
<fixedfiles>
<file>com.fasterxml.jackson.databind.deser.BeanDeserializerBase</file>
</fixedfiles>
</bug>
</bugrepository>
